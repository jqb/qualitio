<div class="chart-wrapper">
  {% if error %}
  <div id="chart-name">{{ error }}</div>
  {% else %}
  <div id="chart-name">
    {{ chart_query.name }}
  </div>
  <div id="chart" class="{{ engine.name }}">
    <div id="loading-info">Loading chart... this can take awhile</div>
  </div>

  <link type="text/css" rel="stylesheet" href="{{ MEDIA_URL }}css/chart.css{{ STATIC_HASH }}"></link>
  {% if engine.get_css_include_template %}{% include engine.get_css_include_template %}{% endif %}

  <script type="text/javascript" src="{{ MEDIA_URL }}js/chart.js{{ STATIC_HASH }}"></script>
  <script type="text/javascript">
    var OPTIONS = {
      id: "{{ chart_query.id }}",
      projectSlug: PROJECT_SLUG,
      chartid: "{{ chart_query.get_type_class.id }}",
      searchParams: "{{ chart_query.query }}"
    };
  </script>
  {% if engine.get_js_include_template %}{% include engine.get_js_include_template %}{% endif %}
  {% endif %}
</div>
